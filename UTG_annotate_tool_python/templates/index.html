<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Dashboard</title>
    <link rel="stylesheet" href="/css/styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.19.1/cytoscape.min.js"></script>
</head>
<body>
    <div>
      <!-- 目录路径输入 + 选择按钮 -->
      <input id="folder-path" type="text" placeholder="e.g., /Users/me/UTG_Project" style="width:340px;height:36px;padding:0 8px;">
      <button class="custom-file-upload" id="pick-folder">
        <span class="custom-file-upload-text">选择/设置目标目录</span>
      </button>

      <button class="custom-file-upload" id="refresh-btn">
        <span class="custom-file-upload-text">刷新</span>
      </button>

      <button class="custom-file-upload" id="merge-nodes-btn">
          <span class="custom-file-upload-text">合并所选节点</span>
      </button>

      <button id="save-batch-btn" class="custom-file-upload">
        <span class="custom-file-upload-text">保存状态到后端</span>
      </button>

      <button id="download-btn" class="custom-file-upload">
          <span class="custom-file-upload-text">打包下载（可选）</span>
      </button>
    </div>
    <div id="cy"></div>
    <div class="popup" id="popup">
        <span class="popup-close" id="popup-close">X</span>
        <img id="popup-image" src="" alt="Node Image">
        <canvas id="drawing-canvas"></canvas>
        <div class="rectangles" id="rectangles-container">
        </div>
        <div alt="show bbx" class="popup-button" id="popup-button">show bbx</div>
    </div>
    <div class="edit-popup" id="edit-popup">
        <span class="edit-popup-close" id="edit-popup-close">X</span>
        <form id="edit-form">
            <table>
                <tr>
                    <th>Attribute</th>
                    <th>Value</th>
                </tr>
                <tr>
                    <td>Text</td>
                    <td><input type="text" id="edit-text"></td>
                </tr>
                <tr>
                    <td>X</td>
                    <td><input type="number" id="edit-x"></td>
                </tr>
                <tr>
                    <td>Y</td>
                    <td><input type="number" id="edit-y"></td>
                </tr>
                <tr>
                    <td>Width</td>
                    <td><input type="number" id="edit-width"></td>
                </tr>
                <tr>
                    <td>Height</td>
                    <td><input type="number" id="edit-height"></td>
                </tr>
            </table>
            <button type="button" id="save-changes">Save Changes</button>
        </form>
    </div>
    <div class="popup" id="edge-popup">
        <span class="popup-close" id="edge-popup-close">X</span>
        <img id="edge-source-image" src="" alt="Source Node Image">
        <canvas id="source-drawing-canvas"></canvas>
        <div class="rectangles" id="source-rectangles-container">
            <!-- Rectangles will be dynamically added here -->
        </div>
        <div alt="save-changes" class="popup-button" id="edge-popup-button">save-changes</div>
        <p id="edge-info" style="font-size: 10px"></p>
    </div>
    <script src="/js/app.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>

</body>
</html>
